% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualize_results.R
\name{analyze_stasis_trait}
\alias{analyze_stasis_trait}
\title{Analyze Trait Data for Stasis Pattern}
\usage{
analyze_stasis_trait(
  data = NULL,
  plot_file = "stasis_plot.png",
  include_nre = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{data}{A data frame containing the time series data with columns:
\itemize{
\item mn: Mean trait values
\item sd: Standard deviations of trait values
\item time: Time points
}}

\item{plot_file}{Character string specifying the filename for saving the plot (default: "stasis_plot.png")}

\item{include_nre}{Logical, whether to include non-random event detection in the analysis (default: TRUE)}

\item{verbose}{Logical, whether to print detailed analysis summary (default: TRUE)}
}
\value{
A list containing:
\item{nre_present}{Logical indicating if non-random events were detected}
\item{rules_triggered}{Names of control chart rules that were triggered}
\item{normality_p}{P-value from the Chi-squared normality test}
\item{normality_pass}{Logical indicating if the data passes the normality test (p >= 0.05)}
\item{slope_check}{Logical indicating if the average difference between consecutive points is < 0.03}
\item{avg_diff}{Average difference between consecutive time points}
\item{stasis}{Logical indicating if the data is consistent with stasis}
\item{plot_file}{Filename where the plot was saved}
\item{calculated_limits}{Vector containing the calculated LCL and UCL}
\item{adjusted_std_dev_for_limits}{Standard deviation adjusted for autocorrelation}
}
\description{
This function analyzes trait data to determine if it follows a stasis pattern,
which is characterized by minimal net change over time with variation around a stable mean.
It uses control charts and statistical tests to detect non-random evolution and test for normality.
}
\details{
The function performs the following analyses:
\enumerate{
\item Calculates basic statistics (mean, standard deviation) of the trait values
\item Adjusts for autocorrelation in the time series
\item Sets up control charts using the adjusted standard deviation
\item Tests for normality using a Chi-squared test with autocorrelation adjustment
\item Checks for non-random patterns in the data
\item Determines if the data is consistent with stasis based on the test results
}
}
\examples{
\dontrun{
  # Example usage:
  data <- data.frame(
    mn = rnorm(20, mean = 10, sd = 0.5),
    sd = rep(0.2, 20),
    time = 1:20
  )
  result <- analyze_stasis_trait(data)
}

}
