% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualize_results.R
\name{analyze_grw_trait}
\alias{analyze_grw_trait}
\title{Analyze Trait Data for General Random Walk (GRW) Pattern}
\usage{
analyze_grw_trait(
  data = NULL,
  plot_file = "grw_plot.png",
  include_nre = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{data}{A data frame containing the time series data with columns 'mn' (mean), 'sd' (standard deviation),
'n' (sample size), and 'time' (time points). If NULL, the function will prompt for a file input.}

\item{plot_file}{Character string specifying the filename for saving the plot. If NULL, no plot is saved.}

\item{include_nre}{Logical indicating whether to include non-random evolution (NRE) analysis.}

\item{verbose}{Logical indicating whether to print detailed output.}
}
\value{
A list containing:
\item{nre_present}{Logical indicating if non-random events were detected}
\item{normality_test_p_value}{P-value from the normality test on differences (not used for GRW prediction)}
\item{normality_pass}{Logical indicating if the differences pass the normality test (not used for GRW prediction)}
\item{slope_check}{Logical indicating if the average difference between consecutive points is > 0.03}
\item{average_difference}{Average difference between consecutive time points}
\item{grw_prediction}{Logical indicating if the data is consistent with GRW}
\item{rules_triggered}{List of control chart rules that were triggered}

A list containing the analysis results including:
\item{model}{The model type ("grw")}
\item{parameters}{List of model parameters}
\item{stats}{Summary statistics}
\item{patterns}{Detected patterns in the data}
\item{plot}{The generated ggplot object}
\item{normality_test}{Results of the normality test}
\item{slope_check}{Result of the slope check}
\item{conclusion}{The conclusion about the model fit}
}
\description{
This function analyzes trait data to determine if it follows a general random walk (GRW) pattern,
which is characterized by directional changes in trait values over time with some random variation.
}
\details{
Analyze Trait Data for General Random Walk (GRW) Pattern

This function analyzes trait data to determine if it follows a general random walk (GRW) pattern,
which is characterized by directional changes in trait values over time with a significant slope.
It uses control charts and statistical tests to detect non-random evolution.

The function performs the following analyses:
\enumerate{
\item Calculates first differences between consecutive time points
\item Adjusts for autocorrelation in the differences
\item Sets up control charts using the adjusted standard deviation
\item Checks for non-random patterns in the differences
\item Determines if the data is consistent with GRW based on the presence of a significant slope
and absence of non-random patterns
}
}
\examples{
\dontrun{
  # Example usage:
  data <- data.frame(
    mn = cumsum(rnorm(20, mean = 0.1, sd = 0.5)),
    time = 1:20
  )
  result <- analyze_grw_trait(data)
}

\dontrun{
  # Example with built-in data
  data <- data.frame(
    mn = cumsum(rnorm(20, 0.1, 0.5)),
    sd = rep(0.5, 20),
    n = rep(10, 20),
    time = 1:20
  )
  result <- analyze_grw_trait(data)
  print(result$conclusion)
}

}
